---
title: 搭建hexo博客
date: 2019-01-29 19:28:41
tag: [网络, 博客]
categories: 计算机
---
本文记录最近在ubuntu搭建hexo博客的经验，并介绍如何利用github绑定自己的域名。

* 首先在本地搭建博客
* 其次将博客部署到服务器（本文部署到github）
* 然后可以绑定个人域名
* 如果想修改主题，参考[这里](https://hexo.io/themes/)

<!--more-->

---

#### 1.安装hexo

---

安装hexo之前需要安装github和nodejs,这其中涉及的软件nvm ,npm,nodejs应该是如下关系:
nvm管理不同nodejs版本，而npm是nodejs的包管理软件，类似python的pip

git的安装省略，执行如下命令安装nvm,nodejs,npm,hexo

``` bash
sudo apt install nvm
nvm install stable #安装稳定版本的nodejs,默认安装了npm
npm install -g hexo-cli
npm install #安装依赖包
```

[hexo](https://hexo.io/zh-cn/docs/)文档

#### 2.本地搭建hexo博客框架

---

github提速

进入自己新建的文件夹（要搭建博客）,假设文件名是hexo，执行如下命令

``` bash
hexo init
hexo generate #生成静态文件，网页，.jason文件
hexo server #本地运行服务
```

即可在https://localhost:4000 浏览博客

#### 3.配置github

---

bash执行如下命令，配置信息

``` bash
git config --global user.name 你的用户名
git config --global user.email 联系你的邮箱
```

执行如下命令，配置ssh-key

``` bash
ssh-keygen -t rsa -C "github注册时的邮箱"
```

再把生成的公钥复制到github->settings->SSH and GPG keys ->new SSH key

这样你的电脑和github建立了联系

#### 4.部署到github

---

我们需要把博客部署到服务器上，你可以租服务器。我们这里借用github来充当服务器（不用交钱)。首先注册github账号，新建仓库，仓库名是*你的用户名.github.io*,

修改hexo文件夹下的*_config.yml*文件:如下

```bash
deploy:
	type:git
	repo:git@github.com:你的用户名/你的用户名.github.io
	branch:master # 执行部署时会推送到这个分支
```

执行如下命令完成部署:

``` bash
hexo d
```

##### 如果失败，需要安装依赖包

``` bash
npm install hexo-deployer-git --save
```

**这样你的博客已经托管到github上，你在浏览器输入*你的用户名.github.io*即可访问博客**

#### 5.绑定个人域名

---

具体可以参考[这里](https://www.cnblogs.com/penglei-it/p/hexo_domain_name.html)。首先你要购买一个域名，设置域名解析，将域名关联到*你的用户名.github.io*。在github那个仓库设置中，填入你的域名。如图：{% asset_img markdown.jpg 设置 %}这样当你输入你购买的域名时会进入博客。（但是我建议你在hexo/source文件下新建CNAME文件，里面写入*你的域名*。然后执行hexo g和hexo d）

如果失败了，可能需要稍等几十分钟即可生效。试试删除浏览器缓存。

#### 6.备份源代码

---

当你执行hexo d时会把网页部署到你设置的仓库分支，并不影响其他分支，所以你可以再建一个分支用来储存你写博客的源代码，或者再建一个仓库。

#### 7.主题

我选择的是cyanstyle,注意的是google会拒绝网站的javascript,所以当你的主题用到脚本时，你需要在google浏览器，将你的博客添加信任名单。